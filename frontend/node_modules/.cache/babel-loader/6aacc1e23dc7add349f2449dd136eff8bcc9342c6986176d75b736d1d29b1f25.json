{"ast":null,"code":"// @ts-ignore-file\n// issue: https://github.com/maurizzzio/function-plot/issues/6\n// solution: the line type is selecting the derivative line when the content is re-drawn, then when the\n// derivative was redrawn an already selected line (by the line type) was used thus making a single line\n// disappear from the graph, to avoid the selection of the derivative line the selector needs to\n// work only for immediate children which is done with `:scope >`\n// src: http://stackoverflow.com/questions/6481612/queryselector-search-immediate-children\n/*eslint-disable */\nif (typeof window !== 'undefined') (function (doc, proto) {\n  try {\n    // check if browser supports :scope natively\n    doc.querySelector(':scope body');\n  } catch (err) {\n    // polyfill native methods if it doesn't\n    ['querySelector', 'querySelectorAll'].forEach(function (method) {\n      // @ts-ignore\n      const native = proto[method];\n      // @ts-ignore\n      proto[method] = function (selectors) {\n        if (/(^|,)\\s*:scope/.test(selectors)) {\n          // only if selectors contains :scope\n          const id = this.id; // remember current element id\n          this.id = 'ID_' + Date.now(); // assign new unique id\n          selectors = selectors.replace(/((^|,)\\s*):scope/g, '$1#' + this.id); // replace :scope with #ID\n          // @ts-ignore\n          const result = doc[method](selectors);\n          this.id = id; // restore previous id\n          return result;\n        } else {\n          return native.call(this, selectors); // use native code for other selectors\n        }\n      };\n    });\n  }\n})(window.document, Element.prototype);\n// @ts-ignore-end\n/* eslint-enable */","map":{"version":3,"names":["window","doc","proto","querySelector","err","forEach","method","native","selectors","test","id","Date","now","replace","result","call","document","Element","prototype"],"sources":["../src/polyfills.ts"],"sourcesContent":[null],"mappings":"AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA,IAAI,OAAOA,MAAM,KAAK,WAAW,EACjC,CAAC,UAAUC,GAAG,EAAEC,KAAK;EACnB,IAAI;IAAE;IACJD,GAAG,CAACE,aAAa,CAAC,aAAa,CAAC;GACjC,CAAC,OAAOC,GAAG,EAAE;IAAE;IACd,CAAC,eAAe,EAAE,kBAAkB,CAAC,CAACC,OAAO,CAAC,UAAUC,MAAM;MAC5D;MACA,MAAMC,MAAM,GAAGL,KAAK,CAACI,MAAM,CAAC;MAC5B;MACAJ,KAAK,CAACI,MAAM,CAAC,GAAG,UAAUE,SAAS;QACjC,IAAI,gBAAgB,CAACC,IAAI,CAACD,SAAS,CAAC,EAAE;UAAE;UACtC,MAAME,EAAE,GAAG,IAAI,CAACA,EAAE,EAAC;UACnB,IAAI,CAACA,EAAE,GAAG,KAAK,GAAGC,IAAI,CAACC,GAAG,EAAE,EAAC;UAC7BJ,SAAS,GAAGA,SAAS,CAACK,OAAO,CAAC,mBAAmB,EAAE,KAAK,GAAG,IAAI,CAACH,EAAE,CAAC,CAAC,CAAC;UACrE;UACA,MAAMI,MAAM,GAAGb,GAAG,CAACK,MAAM,CAAC,CAACE,SAAS,CAAC;UACrC,IAAI,CAACE,EAAE,GAAGA,EAAE,EAAC;UACb,OAAOI,MAAM;SACd,MAAM;UACL,OAAOP,MAAM,CAACQ,IAAI,CAAC,IAAI,EAAEP,SAAS,CAAC,EAAC;;MAExC,CAAC;IACH,CAAC,CAAC;;AAEN,CAAC,EAAER,MAAM,CAACgB,QAAQ,EAAEC,OAAO,CAACC,SAAS,CAAC;AACtC;AACA"},"metadata":{},"sourceType":"script","externalDependencies":[]}