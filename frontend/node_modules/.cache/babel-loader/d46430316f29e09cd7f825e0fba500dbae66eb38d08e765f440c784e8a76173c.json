{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __exportStar = this && this.__exportStar || function (m, exports) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EvalInterval = exports.EvalBuiltIn = exports.GraphTypeScatter = exports.GraphTypePolyline = exports.GraphTypeInterval = exports.Chart = void 0;\nconst d3_shape_1 = require(\"d3-shape\");\nconst d3_format_1 = require(\"d3-format\");\nconst d3_scale_1 = require(\"d3-scale\");\nconst d3_axis_1 = require(\"d3-axis\");\nconst d3_zoom_1 = require(\"d3-zoom\");\n// @ts-ignore\nconst d3_selection_1 = require(\"d3-selection\");\nconst d3_interpolate_1 = require(\"d3-interpolate\");\nconst events_1 = __importDefault(require(\"events\"));\nconst annotations_1 = __importDefault(require(\"./helpers/annotations\"));\nconst tip_1 = __importDefault(require(\"./tip\"));\nconst helpers_1 = __importDefault(require(\"./helpers\"));\nconst datum_defaults_1 = __importDefault(require(\"./datum-defaults\"));\nconst globals_1 = __importDefault(require(\"./globals\"));\nconst graphTypes = __importStar(require(\"./graph-types\"));\nconst $eval = __importStar(require(\"./helpers/eval\"));\nrequire(\"./polyfills\");\nfunction getD3Scale(type) {\n  if (type === 'linear') return d3_scale_1.scaleLinear;\n  return d3_scale_1.scaleLog;\n}\n/**\n * An instance can subscribe to any of the following events by doing `instance.on([eventName], callback)`,\n * events can be triggered by doing `instance.emit([eventName][, params])`\n *\n * - `mouseover` fired whenever the mouse is over the canvas\n * - `mousemove` fired whenever the mouse is moved inside the canvas, callback params: a single object `{x: number, y: number}` (in canvas space\n coordinates)\n * - `mouseout` fired whenever the mouse is moved outside the canvas\n * - `before:draw` fired before drawing all the graphs\n * - `after:draw` fired after drawing all the graphs\n * - `zoom:scaleUpdate` fired whenever the scale of another graph is updated, callback params `xScale`, `yScale`\n (x-scale and y-scale of another graph whose scales were updated)\n * - `tip:update` fired whenever the tip position is updated, callback params `{x, y, index}` (in canvas\n space coordinates, `index` is the index of the graph where the tip is on top of)\n * - `eval` fired whenever the sampler evaluates a function, callback params `data` (an array of segment/points),\n `index` (the index of datum in the `data` array), `isHelper` (true if the data is created for a helper e.g.\n for the derivative/secant)\n *\n * The following events are dispatched to all the linked graphs\n *\n * - `all:mouseover` same as `mouseover` but it's dispatched in each linked graph\n * - `all:mousemove` same as `mousemove` but it's dispatched in each linked graph\n * - `all:mouseout` same as `mouseout` but it's dispatched in each linked graph\n * - `all:zoom:scaleUpdate` same as `zoom:scaleUpdate` but it's dispatched in each linked graph\n * - `all:zoom` fired whenever there's scaling/translation on the graph, dispatched on all the linked graphs\n */\nclass Chart extends events_1.default.EventEmitter {\n  constructor(options) {\n    super();\n    const n = Math.random();\n    const letter = String.fromCharCode(Math.floor(n * 26) + 97);\n    this.options = options;\n    this.id = letter + n.toString(16).substr(2);\n    this.options.id = this.id;\n    this.markerId = this.id + '-marker';\n    Chart.cache[this.id] = this;\n    this.linkedGraphs = [this];\n    this.meta = {};\n    this.setUpEventListeners();\n  }\n  /**\n   * Rebuilds the entire graph from scratch recomputing\n   *\n   * - the inner width/height\n   * - scales/axes\n   *\n   * After this is done it does a complete redraw of all the datums,\n   * if only the datums need to be redrawn call `instance.draw()` instead\n   *\n   * @returns Chart\n   */\n  build() {\n    this.internalVars();\n    this.drawGraphWrapper();\n    return this;\n  }\n  getDraggableNode() {\n    return (0, d3_selection_1.select)(this.options.target).select('.zoom-and-drag').node();\n  }\n  /**\n   * The draggable container won't change across different instances of Chart,\n   * therefore multiple instances will share the draggable container, to avoid dispatching\n   * the event from the old instance grab it in runtime with this function\n   */\n  getEmitInstance() {\n    let cachedInstance = this;\n    const cachedNode = this.getDraggableNode();\n    if (cachedNode) {\n      cachedInstance = cachedNode.instance;\n    }\n    return cachedInstance;\n  }\n  internalVars() {\n    const margin = this.meta.margin = {\n      left: 40,\n      right: 20,\n      top: 20,\n      bottom: 20\n    };\n    // if there's a title make the top margin bigger\n    if (this.options.title) {\n      this.meta.margin.top = 40;\n    }\n    // inner width/height\n    this.meta.width = (this.options.width || globals_1.default.DEFAULT_WIDTH) - margin.left - margin.right;\n    this.meta.height = (this.options.height || globals_1.default.DEFAULT_HEIGHT) - margin.top - margin.bottom;\n    this.initializeAxes();\n  }\n  initializeAxes() {\n    const self = this;\n    const integerFormat = (0, d3_format_1.format)('~s');\n    function formatter(d) {\n      // take only the decimal part of the number\n      const frac = Math.abs(d) - Math.floor(Math.abs(d));\n      if (frac > 0) {\n        return d.toString();\n      } else {\n        return integerFormat(d);\n      }\n    }\n    function computeYScale(xScale) {\n      // assumes that xScale is a linear scale\n      const xDiff = xScale[1] - xScale[0];\n      return self.meta.height * xDiff / self.meta.width;\n    }\n    this.options.xAxis = this.options.xAxis || {};\n    this.options.xAxis.type = this.options.xAxis.type || 'linear';\n    this.options.yAxis = this.options.yAxis || {};\n    this.options.yAxis.type = this.options.yAxis.type || 'linear';\n    const xDomain = this.meta.xDomain = function (axis) {\n      if (axis.domain) {\n        return axis.domain;\n      }\n      if (axis.type === 'linear') {\n        const xLimit = 12;\n        return [-xLimit / 2, xLimit / 2];\n      } else if (axis.type === 'log') {\n        return [1, 10];\n      }\n      throw Error('axis type ' + axis.type + ' unsupported');\n    }(this.options.xAxis);\n    const yDomain = this.meta.yDomain = function (axis) {\n      if (axis.domain) {\n        return axis.domain;\n      }\n      const yLimit = computeYScale(xDomain);\n      if (axis.type === 'linear') {\n        return [-yLimit / 2, yLimit / 2];\n      } else if (axis.type === 'log') {\n        return [1, 10];\n      }\n      throw Error('axis type ' + axis.type + ' unsupported');\n    }(this.options.yAxis);\n    if (!this.meta.xScale) {\n      this.meta.xScale = getD3Scale(this.options.xAxis.type)();\n    }\n    this.meta.xScale.domain(xDomain)\n    // @ts-ignore domain always returns typeof this.meta.xDomain\n    .range(this.options.xAxis.invert ? [this.meta.width, 0] : [0, this.meta.width]);\n    if (!this.meta.yScale) {\n      this.meta.yScale = getD3Scale(this.options.yAxis.type)();\n    }\n    this.meta.yScale.domain(yDomain)\n    // @ts-ignore domain always returns typeof this.meta.yDomain\n    .range(this.options.yAxis.invert ? [0, this.meta.height] : [this.meta.height, 0]);\n    if (!this.meta.xAxis) {\n      this.meta.xAxis = (0, d3_axis_1.axisBottom)(this.meta.xScale);\n    }\n    this.meta.xAxis.tickSize(this.options.grid ? -this.meta.height : 0).tickFormat(formatter);\n    if (!this.meta.yAxis) {\n      this.meta.yAxis = (0, d3_axis_1.axisLeft)(this.meta.yScale);\n    }\n    this.meta.yAxis.tickSize(this.options.grid ? -this.meta.width : 0).tickFormat(formatter);\n    this.line = (0, d3_shape_1.line)().x(function (d) {\n      return self.meta.xScale(d[0]);\n    }).y(function (d) {\n      return self.meta.yScale(d[1]);\n    });\n  }\n  drawGraphWrapper() {\n    const root = this.root = (0, d3_selection_1.select)(this.options.target).selectAll('svg').data([this.options]);\n    // enter\n    // prettier-ignore\n    this.root.enter = root.enter().append('svg').attr('class', 'function-plot').attr('font-size', this.getFontSize());\n    // enter + update\n    root.merge(this.root.enter).attr('width', this.meta.width + this.meta.margin.left + this.meta.margin.right).attr('height', this.meta.height + this.meta.margin.top + this.meta.margin.bottom);\n    this.buildTitle();\n    this.buildLegend();\n    this.buildCanvas();\n    this.buildClip();\n    this.buildAxis();\n    this.buildAxisLabel();\n    // helper to detect the closest fn to the cursor's current abscissa\n    const tip = this.tip = (0, tip_1.default)(Object.assign(this.options.tip || {}, {\n      owner: this\n    }));\n    this.canvas.merge(this.canvas.enter).call(tip);\n    this.setUpPlugins();\n    // draw each datum after the wrapper and plugins were set up\n    this.draw();\n    // zoom helper on top\n    this.buildZoomHelper();\n  }\n  buildTitle() {\n    // join\n    const selection = this.root.merge(this.root.enter).selectAll('text.title').data(function (d) {\n      return [d.title].filter(Boolean);\n    });\n    // enter\n    const selectionEnter = selection.enter().append('text');\n    selectionEnter.merge(selection).attr('class', 'title').attr('y', this.meta.margin.top / 2).attr('x', this.meta.margin.left + this.meta.width / 2).attr('font-size', 25).attr('text-anchor', 'middle').attr('alignment-baseline', 'middle').text(this.options.title);\n    // exit\n    selection.exit().remove();\n  }\n  buildLegend() {\n    // enter\n    this.root.enter.append('text').attr('class', 'top-right-legend').attr('text-anchor', 'end');\n    // update + enter\n    this.root.merge(this.root.enter).select('.top-right-legend').attr('y', this.meta.margin.top / 2).attr('x', this.meta.width + this.meta.margin.left);\n  }\n  buildCanvas() {\n    // enter\n    const canvas = this.canvas = this.root.merge(this.root.enter).selectAll('.canvas').data(function (d) {\n      return [d];\n    });\n    this.canvas.enter = canvas.enter().append('g').attr('class', 'canvas');\n    // enter + update\n  }\n\n  buildClip() {\n    // (so that the functions don't overflow on zoom or drag)\n    const id = this.id;\n    const defs = this.canvas.enter.append('defs');\n    defs.append('clipPath').attr('id', 'function-plot-clip-' + id).append('rect').attr('class', 'clip static-clip');\n    // enter + update\n    this.canvas.merge(this.canvas.enter).selectAll('.clip').attr('width', this.meta.width).attr('height', this.meta.height);\n    // marker clip (for vectors)\n    defs.append('clipPath').append('marker').attr('id', this.markerId).attr('viewBox', '0 -5 10 10').attr('refX', 10).attr('markerWidth', 5).attr('markerHeight', 5).attr('orient', 'auto').append('svg:path').attr('d', 'M0,-5L10,0L0,5L0,0').attr('stroke-width', '0px').attr('fill-opacity', 1).attr('fill', '#777');\n  }\n  buildAxis() {\n    // axis creation\n    const canvasEnter = this.canvas.enter;\n    canvasEnter.append('g').attr('class', 'x axis');\n    canvasEnter.append('g').attr('class', 'y axis');\n    // update\n    this.canvas.merge(this.canvas.enter).select('.x.axis').attr('transform', 'translate(0,' + this.meta.height + ')').call(this.meta.xAxis);\n    this.canvas.merge(this.canvas.enter).select('.y.axis').call(this.meta.yAxis);\n  }\n  buildAxisLabel() {\n    // axis labeling\n    const canvas = this.canvas;\n    const xLabel = canvas.merge(canvas.enter).selectAll('text.x.axis-label').data(function (d) {\n      return [d.xAxis.label].filter(Boolean);\n    });\n    // prettier-ignore\n    const xLabelEnter = xLabel.enter().append('text').attr('class', 'x axis-label').attr('text-anchor', 'end');\n    xLabel.merge(xLabelEnter).attr('x', this.meta.width).attr('y', this.meta.height - 6).text(function (d) {\n      return d;\n    });\n    xLabel.exit().remove();\n    const yLabel = canvas.merge(canvas.enter).selectAll('text.y.axis-label').data(function (d) {\n      return [d.yAxis.label].filter(Boolean);\n    });\n    const yLabelEnter = yLabel.enter().append('text').attr('class', 'y axis-label').attr('y', 6).attr('dy', '.75em').attr('text-anchor', 'end').attr('transform', 'rotate(-90)');\n    yLabel.merge(yLabelEnter).text(function (d) {\n      return d;\n    });\n    yLabel.exit().remove();\n  }\n  /**\n   * @private\n   *\n   * Draws each of the datums stored in data.options, to do a full\n   * redraw call `instance.draw()`\n   */\n  buildContent() {\n    const self = this;\n    const canvas = this.canvas;\n    canvas.merge(canvas.enter).attr('transform', 'translate(' + this.meta.margin.left + ',' + this.meta.margin.top + ')');\n    const content = this.content = canvas.merge(canvas.enter).selectAll(':scope > g.content').data(function (d) {\n      return [d];\n    });\n    // g tag clipped to hold the data\n    const contentEnter = content.enter().append('g').attr('clip-path', 'url(#function-plot-clip-' + this.id + ')').attr('class', 'content');\n    // helper line, x = 0\n    if (this.options.xAxis.type === 'linear') {\n      const yOrigin = content.merge(contentEnter).selectAll(':scope > path.y.origin').data([[[0, this.meta.yScale.domain()[0]], [0, this.meta.yScale.domain()[1]]]]);\n      const yOriginEnter = yOrigin.enter().append('path').attr('class', 'y origin').attr('stroke', 'black').attr('opacity', 0.2);\n      yOrigin.merge(yOriginEnter).attr('d', this.line);\n    }\n    // helper line y = 0\n    if (this.options.yAxis.type === 'linear') {\n      const xOrigin = content.merge(contentEnter).selectAll(':scope > path.x.origin').data([[[this.meta.xScale.domain()[0], 0], [this.meta.xScale.domain()[1], 0]]]);\n      const xOriginEnter = xOrigin.enter().append('path').attr('class', 'x origin').attr('stroke', 'black').attr('opacity', 0.2);\n      xOrigin.merge(xOriginEnter).attr('d', this.line);\n    }\n    // annotations\n    content.merge(contentEnter).call((0, annotations_1.default)({\n      owner: self\n    }));\n    // content construction\n    // - join options.data to <g class='graph'> elements\n    // - for each datum determine the sampler to use\n    const graphs = content.merge(contentEnter).selectAll(':scope > g.graph').data(d => d.data.map(datum_defaults_1.default));\n    // enter\n    const graphsEnter = graphs.enter().append('g').attr('class', 'graph');\n    // enter + update\n    graphs.merge(graphsEnter).each(function (d, index) {\n      // additional options needed in the graph-types/helpers\n      d.index = index;\n      const selection = (0, d3_selection_1.select)(this);\n      selection.call(graphTypes[d.graphType](self));\n      selection.call((0, helpers_1.default)(self));\n    });\n  }\n  buildZoomHelper() {\n    // dummy rect (detects the zoom + drag)\n    const self = this;\n    if (!this.meta.zoomBehavior) {\n      this.meta.zoomBehavior = (0, d3_zoom_1.zoom)().on('zoom', function onZoom(ev) {\n        self.getEmitInstance().emit('all:zoom', ev);\n      });\n      // the zoom behavior must work with a copy of the scale, the zoom behavior has its own state and assumes\n      // that its updating the original scale!\n      // things that failed when I tried rescaleX(self.meta.xScale), the state of self.meta.xScale was a multiplied\n      // for zoom/mousemove operations\n      //\n      // this copy should only be created once when the application starts\n      self.meta.zoomBehavior.xScale = self.meta.xScale.copy();\n      self.meta.zoomBehavior.yScale = self.meta.yScale.copy();\n    }\n    // in the case where the original scale domains were updated (because of a change in the size of the canvas)\n    // update the range only but not the domain, the domain is going to be updated\n    self.meta.zoomBehavior.xScale.range(self.meta.xScale.range());\n    self.meta.zoomBehavior.yScale.range(self.meta.yScale.range());\n    // enter\n    this.canvas.enter.append('rect').call(this.meta.zoomBehavior).attr('class', 'zoom-and-drag').style('fill', 'none').style('pointer-events', 'all').on('mouseover', function (event) {\n      self.getEmitInstance().emit('all:mouseover', event);\n    }).on('mouseout', function (event) {\n      self.getEmitInstance().emit('all:mouseout', event);\n    }).on('mousemove', function (event) {\n      self.getEmitInstance().emit('all:mousemove', event);\n    });\n    // update + enter\n    this.draggable = this.canvas.merge(this.canvas.enter).select('.zoom-and-drag').call(selection => {\n      if (selection.node()) {\n        // store the instance for the next run\n        selection.node().instance = self;\n      }\n    }).attr('width', this.meta.width).attr('height', this.meta.height);\n  }\n  setUpPlugins() {\n    const plugins = this.options.plugins || [];\n    const self = this;\n    plugins.forEach(function (plugin) {\n      plugin(self);\n    });\n  }\n  addLink() {\n    for (let i = 0; i < arguments.length; i += 1) {\n      this.linkedGraphs.push(arguments[i]);\n    }\n  }\n  updateAxes() {\n    const instance = this;\n    const canvas = instance.canvas.merge(instance.canvas.enter);\n    canvas.select('.x.axis').call(instance.meta.xAxis);\n    canvas.select('.y.axis').call(instance.meta.yAxis);\n    // updates the style of the axes\n    canvas.selectAll('.axis path, .axis line').attr('fill', 'none').attr('stroke', 'black').attr('shape-rendering', 'crispedges').attr('opacity', 0.1);\n  }\n  syncOptions() {\n    // update the original options yDomain and xDomain, this is done so that next calls to functionPlot()\n    // with the same object preserve some of the computed state\n    this.options.xAxis.domain = this.meta.xScale.domain();\n    this.options.yAxis.domain = this.meta.yScale.domain();\n  }\n  getFontSize() {\n    return Math.max(Math.max(this.meta.width, this.meta.height) / 50, 8);\n  }\n  draw() {\n    const instance = this;\n    instance.emit('before:draw');\n    instance.syncOptions();\n    instance.updateAxes();\n    instance.buildContent();\n    instance.emit('after:draw');\n  }\n  setUpEventListeners() {\n    const self = this;\n    // before setting up the listeners, remove any listeners set on the previous instance, this happens because\n    // the draggable container is shared across instances\n    const prevInstance = this.getEmitInstance();\n    if (prevInstance) {\n      prevInstance.removeAllListeners();\n    }\n    const events = {\n      mousemove: function (coordinates) {\n        self.tip.move(coordinates);\n      },\n      mouseover: function () {\n        self.tip.show();\n      },\n      mouseout: function () {\n        self.tip.hide();\n      },\n      zoom: function zoom({\n        transform\n      }) {\n        // disable zoom\n        if (self.options.disableZoom) return;\n        const xScaleClone = transform.rescaleX(self.meta.zoomBehavior.xScale).interpolate(d3_interpolate_1.interpolateRound);\n        const yScaleClone = transform.rescaleY(self.meta.zoomBehavior.yScale).interpolate(d3_interpolate_1.interpolateRound);\n        // update the scales's metadata\n        // NOTE: setting self.meta.xScale = self.meta.zoomBehavior.xScale creates artifacts and weird lines\n        self.meta.xScale.domain(xScaleClone.domain())\n        // @ts-ignore domain always returns typeof this.meta.yDomain\n        .range(xScaleClone.range());\n        self.meta.yScale.domain(yScaleClone.domain())\n        // @ts-ignore domain always returns typeof this.meta.yDomain\n        .range(yScaleClone.range());\n      },\n      'tip:update': function ({\n        x,\n        y,\n        index\n      }) {\n        const meta = self.root.merge(self.root.enter).datum().data[index];\n        const title = meta.title || '';\n        const format = meta.renderer || function (x, y) {\n          return x.toFixed(3) + ', ' + y.toFixed(3);\n        };\n        const text = [];\n        title && text.push(title);\n        text.push(format(x, y));\n        self.root.select('.top-right-legend').attr('fill', globals_1.default.COLORS[index]).text(text.join(' '));\n      }\n    };\n    // all represents events that can be propagated to all the instances (including this one)\n    const all = {\n      mousemove: function (event) {\n        const mouse = (0, d3_selection_1.pointer)(event, self.draggable.node());\n        const coordinates = {\n          x: self.meta.xScale.invert(mouse[0]),\n          y: self.meta.yScale.invert(mouse[1])\n        };\n        self.linkedGraphs.forEach(function (graph) {\n          graph.emit('before:mousemove', coordinates);\n          graph.emit('mousemove', coordinates);\n        });\n      },\n      zoom: function (event) {\n        self.linkedGraphs.forEach(function (graph) {\n          // hack to synchronize the zoom state across all the instances\n          graph.draggable.node().__zoom = self.draggable.node().__zoom;\n          graph.emit('zoom', event);\n          graph.draw();\n        });\n        // emit the position of the mouse to all the registered graphs\n        self.emit('all:mousemove', event);\n      }\n    };\n    Object.keys(events).forEach(function (e) {\n      // create an event for each event existing on `events` in the form 'all:' event\n      // e.g. all:mouseover all:mouseout\n      // the objective is that all the linked graphs receive the same event as the current graph\n      // @ts-ignore\n      !all[e] && self.on('all:' + e, function () {\n        const args = Array.prototype.slice.call(arguments);\n        self.linkedGraphs.forEach(function (graph) {\n          const localArgs = args.slice();\n          localArgs.unshift(e);\n          graph.emit.apply(graph, localArgs);\n        });\n      });\n      // @ts-ignore\n      self.on(e, events[e]);\n    });\n    Object.keys(all).forEach(function (e) {\n      // @ts-ignore\n      self.on('all:' + e, all[e]);\n    });\n  }\n}\nexports.Chart = Chart;\nChart.cache = {};\n/**\n * functionPlot is a function plotter of 2d functions.\n *\n * functionPlot creates an instance of {@link Chart} with the param options\n * and immediately calls {@link Chart#build} on it.\n *\n * `options` is augmented with additional internal computed data,\n * therefore, if you want to rerender graphs it's important to reuse\n * the same object to preserve state across builds.\n *\n * @param options The options sent to Chart\n */\nfunction functionPlot(options = {\n  target: null\n}) {\n  options.data = options.data || [];\n  let instance = Chart.cache[options.id];\n  if (!instance) {\n    instance = new Chart(options);\n  }\n  return instance.build();\n}\nexports.default = functionPlot;\nfunctionPlot.globals = globals_1.default;\nfunctionPlot.$eval = $eval;\nfunctionPlot.graphTypes = graphTypes;\n__exportStar(require(\"./types\"), exports);\nvar graph_types_1 = require(\"./graph-types\");\nObject.defineProperty(exports, \"GraphTypeInterval\", {\n  enumerable: true,\n  get: function () {\n    return graph_types_1.interval;\n  }\n});\nObject.defineProperty(exports, \"GraphTypePolyline\", {\n  enumerable: true,\n  get: function () {\n    return graph_types_1.polyline;\n  }\n});\nObject.defineProperty(exports, \"GraphTypeScatter\", {\n  enumerable: true,\n  get: function () {\n    return graph_types_1.scatter;\n  }\n});\n__exportStar(require(\"./helpers\"), exports);\nvar eval_1 = require(\"./helpers/eval\");\nObject.defineProperty(exports, \"EvalBuiltIn\", {\n  enumerable: true,\n  get: function () {\n    return eval_1.builtIn;\n  }\n});\nObject.defineProperty(exports, \"EvalInterval\", {\n  enumerable: true,\n  get: function () {\n    return eval_1.interval;\n  }\n});","map":{"version":3,"names":["d3_shape_1","require","d3_format_1","d3_scale_1","d3_axis_1","d3_zoom_1","d3_selection_1","d3_interpolate_1","events_1","__importDefault","annotations_1","tip_1","helpers_1","datum_defaults_1","globals_1","graphTypes","__importStar","$eval","getD3Scale","type","scaleLinear","scaleLog","Chart","default","EventEmitter","constructor","options","n","Math","random","letter","String","fromCharCode","floor","id","toString","substr","markerId","cache","linkedGraphs","meta","setUpEventListeners","build","internalVars","drawGraphWrapper","getDraggableNode","select","target","node","getEmitInstance","cachedInstance","cachedNode","instance","margin","left","right","top","bottom","title","width","DEFAULT_WIDTH","height","DEFAULT_HEIGHT","initializeAxes","self","integerFormat","format","formatter","d","frac","abs","computeYScale","xScale","xDiff","xAxis","yAxis","xDomain","axis","domain","xLimit","Error","yDomain","yLimit","range","invert","yScale","axisBottom","tickSize","grid","tickFormat","axisLeft","line","x","y","root","selectAll","data","enter","append","attr","getFontSize","merge","buildTitle","buildLegend","buildCanvas","buildClip","buildAxis","buildAxisLabel","tip","Object","assign","owner","canvas","call","setUpPlugins","draw","buildZoomHelper","selection","filter","Boolean","selectionEnter","text","exit","remove","defs","canvasEnter","xLabel","label","xLabelEnter","yLabel","yLabelEnter","buildContent","content","contentEnter","yOrigin","yOriginEnter","xOrigin","xOriginEnter","graphs","map","graphsEnter","each","index","graphType","zoomBehavior","zoom","on","onZoom","ev","emit","copy","style","event","draggable","plugins","forEach","plugin","addLink","i","arguments","length","push","updateAxes","syncOptions","max","prevInstance","removeAllListeners","events","mousemove","coordinates","move","mouseover","show","mouseout","hide","transform","disableZoom","xScaleClone","rescaleX","interpolate","interpolateRound","yScaleClone","rescaleY","tip:update","datum","renderer","toFixed","COLORS","join","all","mouse","pointer","graph","__zoom","keys","e","args","Array","prototype","slice","localArgs","unshift","apply","exports","functionPlot","globals","__exportStar","graph_types_1","defineProperty","enumerable","get","interval","polyline","scatter","eval_1","builtIn"],"sources":["../src/index.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}